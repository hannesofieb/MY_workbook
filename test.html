<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="research-styles.css">
    <link rel="stylesheet" href="basic-styles.css">

    <title>test</title>

    <style>
        .container {
            display: flex;
            justify-content: flex-start;
            flex-direction: row;
            flex-wrap: nowrap;
            max-height: 86vh;
            margin: 0 auto;
            background-color: #f8f5f2;
        }

        .flex-item {
            min-height: 100%;
            position: relative;
            transition: max-width 0.1s ease; /* Transition for smooth effect */
        }


        img {
            max-height: 90vh;
        }

        img:hover{
            max-width: 50vw;
        }

        .flex-item:hover {
            z-index: 1000;
        }

        .caption {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 367%;
        background-color: white;
        padding: 10%;
        box-sizing: border-box;
        opacity: 0;
        transition: opacity 0.3s ease;

        font-family:sans-serif;
        font-size: 0.7em;
    }

    .flex-item:hover .caption {
        opacity: 1;
    }
    </style>
</head>
<body>
    <nav>
        <li><a href="index.html">my_workbook</a></li>
        <li><a href="research.html">research</a></li>
        <li><a href="play.html">play</a></li>
    </nav>
    <section class="container">
        <!-- schultzschultz-type -->
        <figure class="flex-item item1">
            <img class="image" src="https://www.schultzschultz.com/images/mak_01_reduced.gif?crc=118420628" alt="">
            <figcaption class="caption">schultzschultz studio ALLES NEU! "For a typography exhibition at the Museum for Applied Art Frankfurt we created a series of video clips of letterforms being manipulated by multiple and custom built devices."</figcaption>
        </figure>
        <figure class="flex-item">
            <img class="image" src="https://www.schultzschultz.com/images/mak_a.gif?crc=344301308" alt="">
            <figcaption class="caption">schultzschultz studio ALLES NEU! "For a typography exhibition at the Museum for Applied Art Frankfurt we created a series of video clips of letterforms being manipulated by multiple and custom built devices."</figcaption>
        </figure>
        <figure class="flex-item">
            <img class="image" src="https://www.schultzschultz.com/images/mak_t.gif?crc=3874470323" alt="">
            <figcaption class="caption">schultzschultz studio ALLES NEU! "For a typography exhibition at the Museum for Applied Art Frankfurt we created a series of video clips of letterforms being manipulated by multiple and custom built devices."</figcaption>
        </figure>
        <figure class="flex-item">
            <img class="image" src="https://www.schultzschultz.com/images/mak_typo_wall.jpg?crc=4001662411" alt="">
            <figcaption class="caption">schultzschultz studio ALLES NEU! "For a typography exhibition at the Museum for Applied Art Frankfurt we created a series of video clips of letterforms being manipulated by multiple and custom built devices."</figcaption>
        </figure>

        <!-- test -->
        <figure class="flex-item">
            <img class="image" src="workbook/img/W1_anatomyOfWWW01.jpg" alt="">
            <figcaption class="caption"></figcaption>
        </figure>
        <figure class="flex-item">
            <img class="image" src="workbook/img/W1_anatomyOfWWW02.jpg" alt="">
            <figcaption class="caption"></figcaption>
        </figure>
        <figure class="flex-item">
            <img  class="image" src="workbook/img/W1_anatomyOfWWW03.jpg" alt="">
            <figcaption class="caption"></figcaption>
        </figure>
        <figure class="flex-item">
            <img class="image" src="workbook/img/W1_anatomyOfWWW01.jpg" alt="">
            <figcaption class="caption"></figcaption>
        </figure>
        <figure class="flex-item">
            <img class="image" src="workbook/img/W1_anatomyOfWWW02.jpg" alt="">
            <figcaption class="caption"></figcaption>
        </figure>
        <figure class="flex-item">
            <img  class="image" src="workbook/img/W1_anatomyOfWWW03.jpg" alt="">
            <figcaption class="caption"></figcaption>
        </figure>
        
        <!-- BMW-interactive -->
        <figure class="flex-item">
            <a href="https://www.youtube.com/embed/_mGwJh4da5w?si=ZM2LyoUVUR8zikfC">
                <img class="image" src="https://hips.hearstapps.com/hmg-prod/images/2024-bmw-i5-edrive40-interior-106-646d15f7ee204.jpg" alt="">
            </a>
            <figcaption class="caption">BMW's innovative interaction functions, linked to various feature you can adjust while you drive.</figcaption>    
        </figure>
        
    </section>

    <script>window.addEventListener('load', function() {
        const flexItems = document.querySelectorAll('.flex-item');
        const containerWidth = document.querySelector('.container').getBoundingClientRect().width;
        const numItems = flexItems.length;
        const maxWidthPercentage = 100 / numItems; // Calculate the maximum width percentage for each flex-item
    
        flexItems.forEach(item => {
            item.style.maxWidth = `${maxWidthPercentage}%`;
    
            item.addEventListener('mouseenter', function(event) {
                const image = event.target.querySelector('img'); 
                const imageWidth = image.getBoundingClientRect().width;
                const viewportWidth = window.innerWidth;
                const caption = event.target.querySelector('.caption'); 
                
                // Set maximum caption width to avoid exceeding viewport width
                const maxCaptionWidth = viewportWidth * 0.9; // Adjust as needed
                const calculatedWidth = Math.min(imageWidth, maxCaptionWidth);
                
                // Set the width of the caption to match the image width, up to the maximum width
                caption.style.width = calculatedWidth + 'px'; 
    
                // Calculate the right edge position of the hovered flex-item
                const itemRightEdge = item.getBoundingClientRect().right;
                const newLeftPos = item.offsetLeft - calculatedWidth;
    
                // Move the last flex-item to the left if its right edge exceeds the viewport width
                if (itemRightEdge > viewportWidth) {
                    item.style.left = `${newLeftPos}px`;
                }
            });
            
            item.addEventListener('mouseleave', function(event) {
                const caption = event.target.querySelector('.caption'); 
                caption.style.width = ''; // Reset the width of the caption
    
                // Reset the left position of the flex-item on mouse leave
                item.style.left = '';
            });
        });
    });
    

    </script>
</body>
</html>
